<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Link Your Account | Titan Rise</title>
<link rel="stylesheet" href="../style.css">
<style>
.link-container { max-width:700px; margin:60px auto; background:#111; border-radius:16px; padding:30px; text-align:center; border:1px solid #2a0000; box-shadow:0 0 20px rgba(155,0,0,0.15);}
.code-box { font-size:28px; letter-spacing:3px; background:#080000; border:1px solid #2a0000; padding:15px; margin:20px 0; border-radius:10px; font-weight:bold;}
.discord-btn { display:inline-block; padding:12px 18px; background:#5865F2; color:white; text-decoration:none; border-radius:10px; font-weight:bold;}
.discord-btn:hover { background:#4752c4; }
</style>
</head>
<body>
<div class="link-container">
<h1>Link Your Account</h1>
<p>Generate your unique code and link your Minecraft account to our Discord.</p>

<input type="text" id="mcname" placeholder="Enter your Minecraft username">
<button onclick="generateCode()">Generate Code</button>

<div class="code-box" id="linkCode">Your code will appear here</div>

<a class="discord-btn" href="https://discord.gg/V2Vg3G8PzC" target="_blank">Join Discord</a>
</div>

<script>
const BOT_API_URL = "https://titanrise.loca.lt"; // <-- LocalTunnel URL hier

async function generateCode() {
    const mcName = document.getElementById("mcname").value.trim();
    if(!mcName) return alert("Enter your Minecraft username!");

    const response = await fetch(`${BOT_API_URL}/generate_code?mc_username=${mcName}`);
    const data = await response.json();

    if(data.error) {
        alert(data.error);
    } else {
        document.getElementById("linkCode").innerText = data.code;
    }
}
</script>
</body>
</html>
